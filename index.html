<!--
    BROWN CAT STUDIOS
    MAIN WEBSITE
    CLOSED FOR ISSUES OR CONTRIBUTIONS; ANY QUESTIONS OR REFERENCES CONTACT THROUGH EMAIL

    PROTOTYPED FROM STABLESTREAM/PLAYABLES-CENTRAL-PROTOTYPE
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>brown cat studios</title>
    <link rel="icon" href="icn.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @font-face {
            font-family: 'Athletic';
            src: url('Athletic.TTF') format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: 'Ubuntu';
            src: url('ubuntuassets/Ubuntu-Medium.ttf') format('truetype');
            font-weight: 500;
            font-style: normal;
            font-display: swap;
        }
    </style>

    <style>
        .font-varsity {
            font-family: 'Athletic', serif;
        }

        @keyframes blurReveal {
            0% {
                opacity: 0;
                filter: blur(12px);
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                filter: blur(0);
                transform: translateY(0);
            }
        }

        .animate-reveal {
            animation: blurReveal 1.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards 0s;
            opacity: 0;
            filter: blur(12px);
            transform: translateY(20px);
        }

        @keyframes moveUp {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(-40px);
            }
        }

        .animate-move-up {
            animation: moveUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }

        .text-brown-custom {
            color: #FFFEE8; 
        }

        .link-item {
            color: #FFFEE8;
            font-family: 'Ubuntu', sans-serif;
            font-weight: 500;
            font-size: 1.125rem;
            text-decoration: none;
            display: inline-block;
            padding: 0.15rem 0.35rem;
            border-radius: 0;
            line-height: 1.4;
            transition: none;
        }

        .link-item:hover,
        .link-item:focus-visible {
            background: #FFFEE8;
            color: #523525;
        }

        .selection-overlay {
            position: fixed;
            background: rgba(255, 228, 218, 0.18);
            border-radius: 6px;
            pointer-events: none;
            transition: left 0.45s ease, width 0.45s ease, opacity 0.22s ease 0.45s;
            z-index: 9999;
        }

        #links-container {
            transition: opacity 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        body, html {
            overflow: hidden;
            height: 100%;
            width: 100%;
        }

        body {
            background: url('ubuntuassets/background.png') center center / cover no-repeat;
            color: #FFFEE8;
        }

        .background-overlay {
            position: fixed;
            inset: 0;
            pointer-events: none;
            background: linear-gradient(90deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.5) 40%, rgba(0, 0, 0, 0.25) 100%);
            backdrop-filter: blur(12px);
            z-index: 1;
        }

        main {
            position: relative;
            z-index: 2;
        }
    </style>
</head>
<body class="flex items-center justify-start h-screen w-screen selection:bg-[#4A332A] selection:text-white">

    <div class="background-overlay" aria-hidden="true"></div>

    <main class="max-w-4xl px-6 md:px-12 flex flex-col items-start justify-center animate-reveal">
        
        <div id="logo-container" class="mb-6 w-16 h-16 md:w-20 md:h-20 flex-shrink-0">
            <img src="icn.png" alt="Logo" class="w-full h-full object-contain rounded-xl">
        </div>

        <h1 id="main-heading" class="font-varsity text-brown-custom text-3xl md:text-4xl lg:text-5xl leading-tight uppercase tracking-wide text-left">WE ARE A STUDIO RAN BY A BUNCH OF BROWN CATS THAT MAKE WHATEVER THE FUCK THEY WANT, AS LONG AS IT PUTS PEOPLE OVER PROFIT.</h1>

        <div id="links-container" class="mt-4 flex flex-row flex-wrap gap-4 opacity-0">
            <a href="https://x.com/browncatstudios" target="_blank" rel="noopener noreferrer" class="link-item">twitter ↗</a>
            <a href="https://roblox.com/communities/942700181/brown-cat-studios#!/about" target="_blank" rel="noopener noreferrer" class="link-item">roblox ↗</a>
            <a href="https://github.com/brown-cat-studios" target="_blank" rel="noopener noreferrer" class="link-item">github ↗</a>
            <a href="mailto:socials@browncat.eu" class="link-item">contact through email ↗</a>
        </div>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const main = document.querySelector('main.animate-reveal');
            const heading = document.getElementById('main-heading');
            const linksContainer = document.getElementById('links-container');
            const logo = document.getElementById('logo-container');
            const targetWord = 'FUCK';
            const blurDelayAfterReveal = 1000;
            const linkDelayAfterSelection = 2000;
            const hashChar = '#';

            function moveUpAndRevealLinks() {
                if (logo) logo.classList.add('animate-move-up');
                if (heading) heading.classList.add('animate-move-up');
                if (linksContainer) linksContainer.style.opacity = '1';
            }

            function getTextNode() {
                if (!heading) return null;
                return Array.from(heading.childNodes).find(n => n.nodeType === Node.TEXT_NODE);
            }

            function getRectForOffsets(textNode, a, b) {
                const range = document.createRange();
                range.setStart(textNode, a);
                range.setEnd(textNode, b);
                const r = range.getBoundingClientRect();
                try { range.detach && range.detach(); } catch (e) {}
                return r;
            }

            function animateOverlaySelection() {
                const textNode = getTextNode();
                if (!textNode) return;

                const fullText = textNode.textContent;
                const startIndex = fullText.indexOf(targetWord);
                if (startIndex === -1) return;

                const uckStart = startIndex + 1;
                const uckEnd = startIndex + targetWord.length;

                const lastRect = getRectForOffsets(textNode, uckEnd - 1, uckEnd);
                const fullRect = getRectForOffsets(textNode, uckStart, uckEnd);

                if (!lastRect.width || !fullRect.width) return;

                const overlay = document.createElement('div');
                overlay.className = 'selection-overlay';
                Object.assign(overlay.style, {
                    left: `${lastRect.left}px`,
                    top: `${lastRect.top}px`,
                    width: `${lastRect.width}px`,
                    height: `${lastRect.height}px`,
                    opacity: '1',
                });
                document.body.appendChild(overlay);

                overlay.getBoundingClientRect();
                requestAnimationFrame(() => {
                    overlay.style.left = `${fullRect.left}px`;
                    overlay.style.width = `${fullRect.width}px`;
                });

                overlay.addEventListener('transitionend', function handler(e) {
                    if (e.propertyName !== 'width') return;
                    overlay.removeEventListener('transitionend', handler);

                    const before = fullText.slice(0, uckStart);
                    const after = fullText.slice(uckEnd);
                    textNode.textContent = before + hashChar.repeat(uckEnd - uckStart) + after;

                    overlay.style.opacity = '0';
                    setTimeout(() => overlay.remove(), 260);
                });
            }

            const kickOffSequence = () => {
                setTimeout(() => {
                    animateOverlaySelection();
                    setTimeout(moveUpAndRevealLinks, linkDelayAfterSelection);
                }, blurDelayAfterReveal);
            };

            if (main) {
                main.addEventListener('animationend', kickOffSequence, { once: true });
            } else {
                setTimeout(kickOffSequence, 1200);
            }
        });
    </script>

</body>
</html>
